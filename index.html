<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>02 Maret 2006</title>
<link href="https://fonts.googleapis.com/css2?family=Marck+Script&display=swap" rel="stylesheet">
<style>
/* TEMA WARNA ELEGANT LUXURY */
body {
  margin: 0;
  padding: 0;
  font-family: 'Marck Script', cursive;
  background: radial-gradient(circle at center, #1a2332 0%, #080c14 100%); 
  color: #e2d1b1;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  width: 100vw;
  overflow: hidden; 
  perspective: 2000px; 
}

.container {
  position: relative;
  width: 100%;
  max-width: 400px; 
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
}

/* Slide Biasa (Luar Buku) */
.content-box {
  position: absolute;
  width: 85%; 
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: all 0.6s ease-in-out;
  text-align: center;
}

.content-box.active {
  opacity: 1;
  visibility: visible;
}

/* =========================================
   STRUKTUR BUKU DIARY (STABILIZED)
   ========================================= */
.book-container {
  position: absolute;
  width: 90%;
  height: 75vh; 
  max-height: 550px;
  transition: all 0.8s ease-in-out;
  transform-style: preserve-3d;
  z-index: 5;
  display: none;
}

.book-container.show {
  display: block;
}

.book-back {
  position: absolute;
  width: 100%;
  height: 100%;
  background: #f4eee0; 
  border-radius: 4px;
  box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
  z-index: 1;
  border-left: 3px solid #dcd3bd; 
  background-image: linear-gradient(to right, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 5%);
  box-sizing: border-box;
  overflow: hidden; 
}

/* Cover Depan */
.book-cover {
  position: absolute;
  width: 100%;
  height: 100%;
  background: #1a2332; 
  border-radius: 4px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 2;
  transform-origin: left center; 
  transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  border-left: 3px solid #e2d1b1;
}

.book-container.open .book-cover {
  transform: rotateY(-135deg);
}

/* Slide Khusus dalam Buku */
.inner-slide {
  position: absolute; 
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-sizing: border-box;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease; /* Transisi diperhalus */
}

.inner-slide.active {
  opacity: 1;
  visibility: visible;
}

/* Bingkai Polaroid */
.photo-frame {
  width: 240px; 
  background: #ffffff;
  padding: 10px 10px 30px 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transform: rotate(-2deg);
  margin-bottom: 15px;
}

.photo-frame img {
  width: 100%;
  height: 240px; 
  object-fit: cover;
  display: block;
}

.typewriter-container {
  width: 100%;
  max-height: 120px;
  overflow-y: auto;
  text-align: center;
}

.typewriter {
  font-size: 15px;
  line-height: 1.4;
  color: #5c4b37;
  font-family: 'Marck Script', cursive;
}

/* Tombol panah */
.btn-arrow {
  background: transparent;
  border: 1px solid #e2d1b1;
  color: #e2d1b1;
  font-size: 20px;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 15px;
  transition: 0.3s;
}

.inner-slide .btn-arrow {
  background: #1a2332;
  color: #f4eee0;
  border: none;
  width: 35px;
  height: 35px;
  font-size: 16px;
}

.cover-title { font-size: 28px; color: #e2d1b1; margin-bottom: 5px; }
.cover-date { font-size: 14px; opacity: 0.6; letter-spacing: 2px; }
.glow-blue { font-size: 22px; line-height: 1.5; text-shadow: 0 0 10px rgba(226, 209, 177, 0.3); }

.aesthetic-particle {
  position: fixed;
  pointer-events: none;
  z-index: 10;
  color: rgba(226, 209, 177, 0.4); 
}

@keyframes rise {
  0% { transform: translateY(110vh) scale(0.5); opacity: 0; }
  100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
}
</style>
</head>
<body>

<audio id="bgmusic" loop>
  <source src="about_you_reff.mp3" type="audio/mpeg">
</audio>

<div class="container">
  <div id="slide-0" class="content-box active">
    <h1 style="font-size: 35px; margin-bottom: 5px;">your birthday üéÇ</h1>
    <h2 style="opacity: 0.4; font-size: 16px; letter-spacing: 4px;">02 . 03 . 2006</h2>
    <button class="btn-arrow" onclick="startApp()">‚ûú</button>
  </div>

  <div id="slide-1" class="content-box">
    <div class="glow-blue" style="text-align: left;">haiüëãüèª ksatriakuhh... <br>sudah lama tidak saling menyapa. <br><br>tapi.. aku harap kamu baik-baik saja, <br>dan merasa lebih bahagia di hari spesialmu.</div>
    <button class="btn-arrow" onclick="goToSlide(2)">‚ûú</button>
  </div>

  <div id="slide-2" class="content-box">
    <div class="glow-blue" style="text-align: left;">Waittt... <br>tepat hari ini adalah hari spesialmu, <br>sekarang kita berdo'a dulu yuu <br>agar hal-hal baik akan berdatanganü§≤üèª‚ú®Ô∏è</div>
    <button class="btn-arrow" onclick="goToSlide('2a')">‚ûú</button>
  </div>

  <div id="slide-2a" class="content-box">
    <div class="glow-blue" style="text-align: left;">sebelum itu.... aku ingin meminta maaf, karena di kondisi LDR ini aku belum mampu memberikan pelukan nyata untukmu ksatriakuhh... <br><br>pelukan yang mungkin akan meredakan kebisingan dunia di kepalamu. yang mampu menenangkanmu disaat hatimu lelah.</div>
    <button class="btn-arrow" onclick="goToSlide('2b')">‚ûú</button>
  </div>

  <div id="slide-2b" class="content-box">
    <div class="glow-blue" style="text-align: left;">tetapi jarak tidak bisa menjadi alasan.. aku akan memberikan pelukan untukmu lewat kata-kata dan sedikit foto-foto kenangan kita‚ú®Ô∏è</div>
    <button class="btn-arrow" onclick="goToSlide('2c')">‚ûú</button>
  </div>

  <div id="slide-2c" class="content-box">
    <div class="glow-blue" style="text-align: left;">kamu siap? <br><br>siapkan hatimu dengan hangat, beberapa kata-kata dariku ini aku harap itu dapat sedikit memeluk hatimu.</div>
    <button class="btn-arrow" onclick="goToSlide('2d')">‚ûú</button>
  </div>

  <div id="slide-2d" class="content-box">
    <div class="glow-blue" style="text-align: left;">aku yakin siapapun yang berada di hidupmu, akan melihat betapa berharganya kamu... <br><br>dan aku bahagia pernah menjadi seorang wanita yang dicintai sebegitunya oleh laki-laki sepertimu. üíô</div>
    <button class="btn-arrow" onclick="showBook()">‚ûú</button>
  </div>

  <div id="book-diary" class="book-container">
    <div class="book-cover" onclick="openBook()">
      <div class="cover-title">ksatriakuh's</div>
      <div class="cover-title">diary</div>
      <div class="cover-date">02 . 03 . 2006</div>
      <p style="font-size:12px; opacity:0.5; margin-top:20px;">klik untuk membuka üìñ</p>
    </div>

    <div class="book-back">
      <div class="book-page-content">
        <div id="slide-3" class="inner-slide">
          <div class="photo-frame"><img src="foto1.jpeg"></div>
          <div class="typewriter-container"><div id="text-3" class="typewriter"></div></div>
          <button class="btn-arrow" onclick="goToSlide(4)">‚ûú</button>
        </div>

        <div id="slide-4" class="inner-slide">
          <div class="photo-frame"><img src="foto2.jpeg"></div>
          <div class="typewriter-container"><div id="text-4" class="typewriter"></div></div>
          <button class="btn-arrow" onclick="goToSlide(5)">‚ûú</button>
        </div>

        <div id="slide-5" class="inner-slide">
          <div class="photo-frame"><img src="foto3.jpeg"></div>
          <div class="typewriter-container"><div id="text-5" class="typewriter"></div></div>
          <button class="btn-arrow" onclick="hideBookAndShowEnd()">‚ûú</button>
        </div>
      </div>
    </div>
  </div>

  <div id="slide-6" class="content-box">
    <div class="glow-blue" style="font-size: 24px;">terima kasih sudah lahir,<br>terima kasih sudah tumbuh,<br>dan telah menjadi seseorang yang berarti. üíô<br><span style="font-size: 18px;">Aishiteru (ÊÑõ„Åó„Å¶„Çã)</span></div>
    <p style="opacity: 0.4; margin-top: 20px; font-size: 14px;">‚Äî dari aku, yang selalu mendoakanmu -arutalaüåõ ‚Äî</p>
  </div>
</div>

<script>
const dataText = {
  3: "di tanggal ini, seseorang yang istimewa hadir dan membuat dunia terasa sedikit lebih hangat. mungkin semesta tidak sadar, tetapi hari itu ia sedang menitipkan cahaya pada seorang laki-laki yang kelak tumbuh dengan caranya sendiri. dan sejak aku mengenalmu, aku tahu cahaya itu nyata. bukan hanya dari senyummu, tetapi dari caramu memperlakukan dunia dengan lembut, dengan sabar, dengan hati yang jarang dimiliki banyak orang. ‚ú®",
  4: "senyummu adalah rumah yang tenang, tempat segala lelah ingin pulang. caramu tertawa seperti pengingat bahwa hidup tak selalu harus tergesa. aku menyukai caramu berjalan pelan, caramu bercerita, bahkan caramu diam. di antara banyak hal yang tak pasti di dunia ini, entah mengapa melihatmu baik-baik saja selalu menjadi doaku yang paling sungguh. karena bahagiaku sederhana, cukup tahu bahwa kamu baik-baik saja dan tetap menjadi dirimu sendiri. ‚òÅÔ∏è",
  5: "bertambahnya usiamu bukan hanya tentang angka, tetapi tentang langkah yang sudah kau tempuh dengan berani. semoga tahun-tahun ke depan membawamu pada bahagia yang lebih luas, mimpi yang lebih dekat, dan hati yang tetap hangat seperti sekarang. dan jika suatu hari dunia terasa berat, ingatlah bahwa ada seorang wanita di sini yang akan selalu menunggumu pulang, selalu mendoakanmu dalam diam, yang diam-diam menyebut namamu dalam harapan, dan yang selalu bersyukur karena kamu pernah hadir dihidupnya. üíô"
};

function startApp() {
  document.getElementById('bgmusic').play().catch(() => {});
  goToSlide(1);
  setInterval(createAestheticEffect, 600);
}

function createAestheticEffect() {
  const p = document.createElement("div");
  p.className = "aesthetic-particle";
  p.innerHTML = Math.random() > 0.5 ? "‚ú®" : "‚Ä¢";
  p.style.left = Math.random() * 100 + "vw";
  p.style.animation = `rise ${Math.random()*3+4}s linear forwards`;
  document.body.appendChild(p);
  setTimeout(() => p.remove(), 8000);
}

function goToSlide(n) {
  document.querySelectorAll('.content-box, .inner-slide').forEach(s => s.classList.remove('active'));
  
  const next = document.getElementById('slide-' + n);
  if(next) {
    next.classList.add('active');
    // Jika slide dalam buku, jalankan typewriter
    if(dataText[n]) {
      typeWriter(document.getElementById('text-' + n), dataText[n]);
    }
  }
}

function showBook() {
  document.getElementById('slide-2d').classList.remove('active');
  const book = document.getElementById('book-diary');
  book.classList.add('show');
}

// FUNGSI BARU YANG DIGABUNGKAN
function openBook() {
  const book = document.getElementById('book-diary');
  book.classList.add('open');
  
  // Foto 1 (slide-3) langsung dimunculkan tanpa nunggu cover selesai berputar
  const slide3 = document.getElementById('slide-3');
  slide3.classList.add('active'); 
  
  // Teks mulai mengetik 0.6 detik kemudian (saat cover sudah mulai terbuka)
  setTimeout(() => { 
    typeWriter(document.getElementById('text-3'), dataText[3]); 
  }, 600); 
}

function hideBookAndShowEnd() {
  const book = document.getElementById('book-diary');
  book.style.opacity = '0';
  setTimeout(() => {
    book.style.display = 'none';
    goToSlide(6);
  }, 800);
}

function typeWriter(element, text) {
  if(!element) return;
  element.innerHTML = "";
  let i = 0;
  function typing() {
    if (i < text.length) {
      element.innerHTML += text.charAt(i);
      i++;
      // Auto-scroll teks jika kepanjangan
      element.parentElement.scrollTop = element.parentElement.scrollHeight;
      setTimeout(typing, 35); // Kecepatan ketik
    }
  }
  typing();
}
</script>
</body>
</html>
